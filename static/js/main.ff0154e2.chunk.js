(this["webpackJsonppet-shop-react"]=this["webpackJsonppet-shop-react"]||[]).push([[8],{1067:function(e,t){},1095:function(e,t){},1134:function(e,t){},1136:function(e,t){},1157:function(e,t){},1159:function(e,t){},1171:function(e,t){},1187:function(e,t){},1189:function(e,t){},1191:function(e,t){},1295:function(e,t){},1297:function(e,t){},1305:function(e,t){},1329:function(e,t){},1331:function(e,t){},1338:function(e,t){},1339:function(e,t){},1372:function(e,t){},1464:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(751),i=n.n(a),s=(n(804),n(229)),o=n(367),u=n(41),l=n(36),d=n(1505),j=n(774),b=n(1501),f=n(1496),m=n(1470),h=n(1497),p=n(1500),x=n(236),O=n(1498),g=n(1507),v=n(1502),y=n(1503),k=n(728),w=n(15),C=function(e){var t=Object(u.f)(),n=Object(u.e)(),c=Object(k.a)({maxWidth:1e3}),a=Object(s.b)(),i=a.authenticate,o=a.isAuthenticated,C=(a.isAuthenticating,a.user),I=(a.account,a.logout);Object(r.useEffect)((function(){o&&C&&C.id&&T(C&&C.id?C.id:"")}),[o,C]);var N=Object(r.useState)(""),F=Object(l.a)(N,2),S=F[0],T=F[1],M=Object(r.useState)(!1),A=Object(l.a)(M,2),E=A[0],z=A[1],B=Object(r.useState)(!1),P=Object(l.a)(B,2),D=P[0],L=P[1],R=Object(r.useState)(!1),U=Object(l.a)(R,2),W=U[0],H=U[1],J=function(e){t(e)},_=d.a,q=j.a,Q=function(e){return e.slice(0,2)+"..."+e.slice(e.length-4)},K=function(){z(!E)},Z=function(){H(!W)};return Object(w.jsxs)(r.Fragment,{children:[Object(w.jsx)(b.a,{inverted:!0,size:"huge",secondary:!0,pointing:!0,children:Object(w.jsxs)(f.a,{fluid:!0,children:[Object(w.jsxs)(b.a.Item,{children:[Object(w.jsx)("img",{style:{marginRight:"8px"},alt:"logo",src:"/images/potato.gif"}),"Potato NFT"]}),c&&Object(w.jsx)(b.a.Item,{position:"right",children:Object(w.jsx)(m.a,{inverted:!0,icon:"sidebar",onClick:K})}),!c&&Object(w.jsxs)(r.Fragment,{children:[Object(w.jsx)(b.a.Item,{style:{height:"100%",width:"40%"},children:Object(w.jsx)(h.a,{inverted:!0,fluid:!0,style:{color:"#000"},icon:"search",placeholder:"Search items, collections, and accounts"})}),Object(w.jsxs)(b.a.Menu,{position:"right",children:[Object(w.jsx)(b.a.Item,{style:{height:"100%"},name:"Expore",onClick:function(){return J("/expore")},active:"/expore"===n.pathname}),0!==S.length&&Object(w.jsx)(b.a.Item,{style:{height:"100%"},name:"Create",onClick:function(){return J("/create")},active:"/create"===n.pathname}),Object(w.jsx)(b.a.Item,{as:"a",style:{height:"100%"},children:Object(w.jsx)(p.a,{style:{background:"var(--main-background)"},basic:!0,content:"Dark Mode",trigger:Object(w.jsx)(x.a,{name:"sun outline"})})}),0===S.length&&Object(w.jsx)(b.a.Item,{as:"a",children:Object(w.jsxs)(m.a,{style:{display:"flex",alignItems:"center",background:"var(--main-gradient)",color:"#fff"},onClick:function(){0===S.length&&L(!D)},children:[S&&S.length>0&&Object(w.jsx)(x.a,{name:"ethereum"}),S&&S.length>0?Q(S):"Connect Wallet"]})}),Object(w.jsx)(b.a.Item,{as:"a",onClick:Z,children:S&&S.length>0&&Object(w.jsx)("div",{style:{borderRadius:"50%",border:"1px solid #ffffff38",width:"45px"},children:Object(w.jsx)(q,{size:"mini",style:{background:"var(--main-gradient)",color:"#fff",width:"45px"},circular:!0,avatar:!0,spaced:"right",src:"https://robohash.org/".concat(S,".jpeg?set=set1&size=150x150")})})}),Object(w.jsx)(b.a.Item,{as:"a",style:{height:"100%"},onClick:K,children:S&&S.length>0&&Object(w.jsx)("div",{style:{width:"32px"},children:Object(w.jsx)(q,{size:"mini",style:{width:"32px"},spaced:"right",src:"/images/wallet.webp"})})})]})]})]})}),Object(w.jsx)(O.a,{inverted:!0,style:{marginBottom:"0"}}),Object(w.jsxs)(g.a,{as:b.a,animation:"overlay",direction:"right",icon:"labeled",inverted:!0,onHide:function(){return z(!1)},vertical:!0,visible:E,width:"thin",children:[Object(w.jsxs)(b.a.Item,{as:"a",children:[Object(w.jsx)(x.a,{name:"home"}),"Home"]}),Object(w.jsxs)(b.a.Item,{as:"a",children:[Object(w.jsx)(x.a,{name:"gamepad"}),"Games"]}),Object(w.jsxs)(b.a.Item,{as:"a",children:[Object(w.jsx)(x.a,{name:"camera"}),"Channels"]}),Object(w.jsxs)(b.a.Item,{as:"a",children:[Object(w.jsx)(x.a,{name:"camera"}),"Channels"]}),Object(w.jsxs)(b.a.Item,{as:"a",children:[Object(w.jsx)(x.a,{name:"camera"}),"Channels"]}),Object(w.jsxs)(b.a.Item,{as:"a",children:[Object(w.jsx)(x.a,{name:"camera"}),"Channels"]}),Object(w.jsxs)(b.a.Item,{as:"a",children:[Object(w.jsx)(x.a,{name:"camera"}),"Channels"]})]}),Object(w.jsx)(v.a,{basic:!0,dimmer:"blurring",onClose:function(){return L(!1)},onOpen:function(){return L(!0)},open:D,size:"small",children:Object(w.jsx)(v.a.Content,{children:Object(w.jsxs)(y.a,{centered:!0,style:{boxShadow:"none",background:"#0000"},children:[Object(w.jsx)(y.a.Content,{style:{background:"var(--main-gradient)"},children:Object(w.jsx)(y.a.Header,{style:{color:"#fff"},children:"Connect Wallet"})}),Object(w.jsx)(y.a.Content,{style:{background:"#383241"},children:Object(w.jsxs)(_,{children:[Object(w.jsxs)(d.a.Row,{columns:2,style:{paddingBottom:"0"},children:[Object(w.jsx)(d.a.Column,{style:{textAlign:"center"},children:Object(w.jsx)(m.a,{icon:!0,style:{width:"85px",height:"85px",background:"#0000"},onClick:function(){o||i({signingMessage:"Log in using Moralis"}).then((function(e){if(e){var t=e.get("ethAddress");T(t&&t.id?t.id:""),L(!1)}})).catch((function(e){console.log(e)}))},children:Object(w.jsxs)("div",{style:{display:"block"},children:[Object(w.jsx)("img",{style:{display:"block",margin:"auto",marginBottom:"8px"},src:"/images/wallert_metamask.webp",alt:""}),"Metamask"]})})}),Object(w.jsx)(d.a.Column,{style:{textAlign:"center"},children:Object(w.jsx)(m.a,{icon:!0,style:{width:"85px",height:"85px",background:"#0000"},children:Object(w.jsxs)("div",{style:{display:"block"},children:[Object(w.jsx)("img",{style:{display:"block",margin:"auto",marginBottom:"8px"},src:"/images/binance_wallet.webp",alt:""}),"Binance"]})})})]}),Object(w.jsx)(d.a.Row,{columns:2,children:Object(w.jsx)(d.a.Column,{style:{textAlign:"center"},children:Object(w.jsx)(m.a,{icon:!0,style:{width:"85px",height:"85px",background:"#0000"},children:Object(w.jsxs)("div",{style:{display:"block"},children:[Object(w.jsx)("img",{style:{display:"block",margin:"auto",marginBottom:"8px"},src:"/images/wallet_connect.webp",alt:""}),"Wallet"]})})})})]})})]})})}),Object(w.jsxs)(v.a,{style:{background:"var(--darg-bg)"},centered:!1,size:"mini",dimmer:"blurring",open:W,onClose:Z,children:[Object(w.jsx)(v.a.Header,{style:{background:"var(--darg-bg)",borderColor:"#ffffff38"},children:Object(w.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(w.jsx)("div",{style:{borderRadius:"50%",border:"1px solid #ffffff38",width:"45px"},children:Object(w.jsx)(q,{size:"mini",style:{background:"var(--main-gradient)",color:"#fff",width:"45px"},circular:!0,avatar:!0,spaced:"right",src:"https://robohash.org/".concat(S,".jpeg?set=set1&size=150x150")})}),Object(w.jsx)("span",{style:{marginLeft:"8px",color:"#fff"},children:Q(S)})]})}),Object(w.jsx)(v.a.Content,{style:{padding:"0",background:"var(--darg-bg)"},children:Object(w.jsxs)(b.a,{vertical:!0,compact:!0,fluid:!0,inverted:!0,children:[Object(w.jsx)(b.a.Item,{onClick:function(){return!1},name:"Profile"}),Object(w.jsx)(b.a.Item,{onClick:function(){J("/myitem"),Z()},name:"My Items"}),Object(w.jsx)(b.a.Item,{onClick:function(){return!1},name:"Activity"}),Object(w.jsx)(b.a.Item,{onClick:function(){return!1},name:"My Collection"})]})}),Object(w.jsx)(v.a.Actions,{style:{background:"var(--darg-bg)"},children:Object(w.jsx)(m.a,{fluid:!0,style:{margin:"0"},onClick:function(){I().then((function(e){Z(),T("")})).catch((function(e){return console.log(e)}))},children:"Disconnect"})})]})]})},I=function(e){return Object(w.jsxs)(r.Fragment,{children:[Object(w.jsx)(C,{}),Object(w.jsx)("div",{children:e.children})]})},N=n(14),F=n(0),S=n.n(F),T=n(489),M=n(179),A=n(498),E=n(206),z=n(210),B=n.n(z),P=n(307),D=n(499),L=n(500),R=n(325),U=function(){var e=Object(s.c)().saveFile,t=Object(s.b)().isAuthenticated,n=Object(L.a)(),c=Object(A.a)(),a=c.NFTContract,i=c.potatoMarketContract,o={name:T.a.company.companyName(),description:T.a.commerce.productDescription(),price:"2"},u=Object(r.useState)(),d=Object(l.a)(u,2),j=d[0],b=d[1],f=function(){var t=Object(N.a)(S.a.mark((function t(){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:j&&e(j.name,j,{type:"base64",saveIPFS:!0,onSuccess:function(){var e=Object(N.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.ipfs(),t&&h(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onError:function(e){return console.log(e)}});case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=function(){var e=Object(N.a)(S.a.mark((function e(r){var c,s,u,l,d,j,f,m,h,p,x,O,g,v;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,c=o.name,s=o.description,!i||!a){e.next=36;break}return e.next=5,Object(E.a)(i,M.a.marketContractAddress);case 5:return u=e.sent,e.next=8,Object(E.a)(a,M.a.nftContractAddress);case 8:return l=e.sent,e.next=11,l.mintToken(r);case 11:return d=e.sent,e.next=14,d.wait();case 14:return j=e.sent,f=j.events[0],console.log(j),m=f.args[2],h=m.toNumber(),p=JSON.stringify({url:r,name:c,description:s,itemId:h,price:o.price,seller:j.to,owner:j.from}),(x=new B.a.Object("potatoNFTMarket")).set("itemId",h),x.set("data",p),e.next=25,x.save();case 25:return O=P.a.utils.parseUnits(o.price,"ether"),e.next=28,null===u||void 0===u?void 0:u.getListingPrice();case 28:return g=e.sent,e.next=31,null===u||void 0===u?void 0:u.makeMarketItem(M.a.nftContractAddress,h,O.toString(),{value:g.toString()});case 31:return v=e.sent,e.next=34,v.wait();case 34:Object(D.b)(i,a,t).then((function(e){n(Object(R.c)(e))})),b(void 0);case 36:e.next=41;break;case 38:e.prev=38,e.t0=e.catch(0),console.log("Error: ",e.t0);case 41:case"end":return e.stop()}}),e,null,[[0,38]])})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsxs)("div",{children:[Object(w.jsx)("input",{type:"file",onChange:function(e){b(e.target.files[0])}}),Object(w.jsx)(m.a,{variant:"outlined",sx:{my:2,color:"white",display:"block"},onClick:f,children:"listing"})]})},W=n(1504),H=Object(r.lazy)((function(){return Promise.all([n.e(1),n.e(4),n.e(6),n.e(21),n.e(14)]).then(n.bind(null,2228))})),J=Object(r.lazy)((function(){return Promise.all([n.e(1),n.e(4),n.e(6),n.e(13),n.e(15)]).then(n.bind(null,2229))})),_=Object(w.jsx)(W.a,{percent:100,size:"tiny",active:!0});var q=function(){return Object(w.jsx)(s.a,{serverUrl:"https://jqffj1drjnzm.usemoralis.com:2053/server",appId:"iABVUKAeoEkI52Lnjt1dZrIgHuvo62ZHKk9qNDds",children:Object(w.jsx)(o.a,{children:Object(w.jsx)(I,{children:Object(w.jsxs)(u.c,{children:[Object(w.jsx)(u.a,{path:"/expore",element:Object(w.jsx)(r.Suspense,{fallback:_,children:Object(w.jsx)(H,{})})}),Object(w.jsx)(u.a,{path:"/myitem",element:Object(w.jsx)(r.Suspense,{fallback:_,children:Object(w.jsx)(J,{})})}),Object(w.jsx)(u.a,{path:"/create",element:Object(w.jsx)(r.Suspense,{fallback:_,children:Object(w.jsx)(U,{})})})]})})})})},Q=n(29),K=Object(Q.d)({name:"test",initialState:{toogle:!1},reducers:{updateToggle:function(e,t){e.toogle=t.payload}}}),Z=(K.actions.updateToggle,K.reducer),G=n(1499),V=Object(Q.a)({reducer:{test:Z,expore:R.a}});Object(G.a)(V.dispatch);var X=V,Y=function(e){e&&e instanceof Function&&n.e(25).then(n.bind(null,2240)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))},$=n(316),ee=(n(1463),function(){return Object(w.jsx)(c.a.StrictMode,{children:Object(w.jsx)($.a,{store:X,children:Object(w.jsx)(q,{})})})});i.a.createRoot(document.getElementById("root")).render(Object(w.jsx)(ee,{})),Y()},179:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={marketContractAddress:"0x9a697b618CE0B315Bb0D72B3Cf8604ECE0A32F65",nftContractAddress:"0x7040f31b1C027FF01F038Ee466caADc7DcB5200D"}},206:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r,c=n(14),a=n(0),i=n.n(a),s=n(307);!function(e){e.dev="1337",e.production="80001"}(r||(r={}));var o=function(){var e=Object(c.a)(i.a.mark((function e(t,n){var c,a,o,u,l,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"===typeof window.ethereum){e.next=10;break}return c=window,a=c.ethereum,o=new s.a.providers.Web3Provider(a),e.next=5,o.getNetwork();case 5:if(u=e.sent,Number.parseInt(r.production)!==u.chainId){e.next=10;break}return l=o.getSigner(),d=new s.a.Contract(n,t.abi,l),e.abrupt("return",d);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},325:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u}));var r=n(29),c={nfts:[],mynfts:[]},a=Object(r.d)({name:"test",initialState:c,reducers:{setNFTs:function(e,t){e.nfts=t.payload},clearNFTs:function(e){e.nfts=c.nfts},setMyNFTs:function(e,t){e.mynfts=t.payload},clearMyNFTs:function(e){e.nfts=c.mynfts}}}),i=a.actions,s=i.setNFTs,o=(i.clearNFTs,i.setMyNFTs),u=(i.clearMyNFTs,a.reducer)},498:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(36),c=n(1),a=n(488),i=n.n(a),s=function(){var e=Object(c.useState)(),t=Object(r.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(),o=Object(r.a)(s,2),u=o[0],l=o[1];return Object(c.useEffect)((function(){i()("definition/PotatoMarket.json").then((function(e){a(e.data)})),i()("definition/NFT.json").then((function(e){l(e.data)}))}),[]),{potatoMarketContract:n,NFTContract:u}}},499:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var r=n(14),c=n(0),a=n.n(c),i=n(210),s=n.n(i),o=n(206),u=n(179),l=function(){var e=Object(r.a)(a.a.mark((function e(t,n,c){var i,l,d,j,b,f,m;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=[],!c){e.next=25;break}return e.next=4,Object(o.a)(t,u.a.marketContractAddress);case 4:return d=e.sent,e.next=7,Object(o.a)(n,u.a.nftContractAddress);case 7:return j=e.sent,e.next=10,null===d||void 0===d?void 0:d.fetchMarketItems();case 10:if(e.t1=l=e.sent,e.t0=null!==e.t1,!e.t0){e.next=14;break}e.t0=void 0!==l;case 14:if(!e.t0){e.next=18;break}e.t2=l,e.next=19;break;case 18:e.t2=[];case 19:return b=e.t2,e.next=22,Promise.all(b.map(function(){var e=Object(r.a)(a.a.mark((function e(t){var n,r,c,i,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===j||void 0===j?void 0:j.tokenURI(t.tokenId);case 2:return n=e.sent,(r=new s.a.Query("potatoNFTMarket")).equalTo("itemId",t.itemId.toNumber()),e.next=7,r.find();case 7:return c=e.sent,i=JSON.parse(c[0].get("data")),o={price:i.price,itemId:t.itemId.toNumber(),seller:t.seller,owner:t.owner,image:n,name:i.name,description:i.description},e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 22:i=e.sent,e.next=30;break;case 25:return f=new s.a.Query("potatoNFTMarket"),e.next=28,f.find();case 28:m=e.sent,i=m.map((function(e){var t,n,r,c=JSON.parse(e.get("data"));return console.log(c),{price:c.price,itemId:null!==(t=c.itemId)&&void 0!==t?t:"",seller:null!==(n=c.seller)&&void 0!==n?n:"",owner:null!==(r=c.owner)&&void 0!==r?r:"",image:c.url,name:c.name,description:c.description}}));case 30:return e.abrupt("return",i);case 31:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function d(e,t){return j.apply(this,arguments)}function j(){return j=Object(r.a)(a.a.mark((function e(t,n){var c,i,l,d,j;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.a)(t,u.a.marketContractAddress);case 2:return i=e.sent,e.next=5,Object(o.a)(n,u.a.nftContractAddress);case 5:return l=e.sent,e.next=8,null===i||void 0===i?void 0:i.fetchMyNfts();case 8:if(e.t1=c=e.sent,e.t0=null!==e.t1,!e.t0){e.next=12;break}e.t0=void 0!==c;case 12:if(!e.t0){e.next=16;break}e.t2=c,e.next=17;break;case 16:e.t2=[];case 17:return d=e.t2,e.next=20,Promise.all(d.map(function(){var e=Object(r.a)(a.a.mark((function e(t){var n,r,c,i,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===l||void 0===l?void 0:l.tokenURI(t.tokenId);case 2:return n=e.sent,(r=new s.a.Query("potatoNFTMarket")).equalTo("itemId",t.itemId.toNumber()),e.next=7,r.find();case 7:return c=e.sent,i=JSON.parse(c[0].get("data")),o={price:t.price.toString(),itemId:t.itemId.toNumber(),seller:t.seller,owner:t.owner,image:n,name:i.name,description:i.description},e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 20:return j=e.sent,console.log("loadMyNFTs==>".concat(j)),e.abrupt("return",j);case 23:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}},500:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a}));var r=n(316),c=function(){return Object(r.b)()},a=r.c},667:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=667},728:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(36),c=n(1),a=function(e){var t=e.maxWidth,n=Object(c.useState)(!1),a=Object(r.a)(n,2),i=a[0],s=a[1];return Object(c.useEffect)((function(){window.addEventListener("resize",(function(e){e.isTrusted&&(t>window.innerWidth?s(!0):s(!1))}))}),[window,t,i]),i}},804:function(e,t,n){}},[[1464,9,10]]]);
//# sourceMappingURL=main.ff0154e2.chunk.js.map