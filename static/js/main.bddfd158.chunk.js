(this["webpackJsonppet-shop-react"]=this["webpackJsonppet-shop-react"]||[]).push([[8],{1061:function(e,t){},1089:function(e,t){},1128:function(e,t){},1130:function(e,t){},1151:function(e,t){},1153:function(e,t){},1165:function(e,t){},1181:function(e,t){},1183:function(e,t){},1185:function(e,t){},1289:function(e,t){},1291:function(e,t){},1299:function(e,t){},1323:function(e,t){},1325:function(e,t){},1332:function(e,t){},1333:function(e,t){},1366:function(e,t){},1458:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(745),i=n.n(c),s=(n(798),n(262)),o=n(366),u=n(41),l=n(36),d=n(1499),j=n(768),b=n(1495),f=n(1490),h=n(1464),m=n(1491),x=n(1494),p=n(235),O=n(1492),g=n(1501),v=n(1496),y=n(1497),k=n(728),w=n(15),C=function(e){var t=Object(u.f)(),n=Object(u.e)(),a=Object(k.a)({maxWidth:1e3}),c=Object(s.b)(),i=c.authenticate,o=c.isAuthenticated,C=(c.isAuthenticating,c.user);c.account,c.logout;Object(r.useEffect)((function(){o&&C&&C.id&&T(C&&C.id?C.id:"")}),[o,C]);var I,N=Object(r.useState)(""),F=Object(l.a)(N,2),S=F[0],T=F[1],M=Object(r.useState)(!1),A=Object(l.a)(M,2),E=A[0],B=A[1],P=Object(r.useState)(!1),z=Object(l.a)(P,2),D=z[0],L=z[1],R=function(e){t(e)},U=d.a,W=j.a,H=function(){B(!E)};return Object(w.jsxs)(r.Fragment,{children:[Object(w.jsx)(b.a,{inverted:!0,size:"huge",secondary:!0,pointing:!0,children:Object(w.jsxs)(f.a,{fluid:!0,children:[Object(w.jsxs)(b.a.Item,{children:[Object(w.jsx)("img",{style:{marginRight:"8px"},alt:"logo",src:"/images/potato.gif"}),"Potato NFT"]}),a&&Object(w.jsx)(b.a.Item,{position:"right",children:Object(w.jsx)(h.a,{inverted:!0,icon:"sidebar",onClick:H})}),!a&&Object(w.jsxs)(r.Fragment,{children:[Object(w.jsx)(b.a.Item,{style:{height:"100%",width:"40%"},children:Object(w.jsx)(m.a,{inverted:!0,fluid:!0,style:{color:"#000"},icon:"search",placeholder:"Search items, collections, and accounts"})}),Object(w.jsxs)(b.a.Menu,{position:"right",children:[Object(w.jsx)(b.a.Item,{style:{height:"100%"},name:"Expore",onClick:function(){return R("/expore")},active:"/expore"===n.pathname}),Object(w.jsx)(b.a.Item,{style:{height:"100%"},name:"Myitem",onClick:function(){return R("/myitem")},active:"/myitem"===n.pathname}),Object(w.jsx)(b.a.Item,{style:{height:"100%"},name:"Create",onClick:function(){return R("/create")},active:"/create"===n.pathname}),Object(w.jsx)(b.a.Item,{as:"a",style:{height:"100%"},children:Object(w.jsx)(x.a,{style:{background:"var(--main-background)"},basic:!0,content:"Dark Mode",trigger:Object(w.jsx)(p.a,{name:"sun outline"})})}),0===S.length&&Object(w.jsx)(b.a.Item,{as:"a",children:Object(w.jsxs)(h.a,{style:{display:"flex",alignItems:"center",background:"var(--main-gradient)",color:"#fff"},onClick:function(){0===S.length&&L(!D)},children:[S&&S.length>0&&Object(w.jsx)(p.a,{name:"ethereum"}),S&&S.length>0?(I=S,I.slice(0,2)+"..."+I.slice(I.length-4)):"Connect Wallet"]})}),Object(w.jsx)(b.a.Item,{as:"a",children:S&&S.length>0&&Object(w.jsx)("div",{style:{borderRadius:"50%",border:"1px solid #ffffff38",width:"45px"},children:Object(w.jsx)(W,{size:"mini",style:{background:"var(--main-gradient)",color:"#fff",width:"45px"},circular:!0,avatar:!0,spaced:"right",src:"https://robohash.org/".concat(S,".jpeg?set=set1&size=150x150")})})}),Object(w.jsx)(b.a.Item,{as:"a",style:{height:"100%"},onClick:H,children:S&&S.length>0&&Object(w.jsx)("div",{style:{width:"32px"},children:Object(w.jsx)(W,{size:"mini",style:{width:"32px"},spaced:"right",src:"/images/wallet.webp"})})})]})]})]})}),Object(w.jsx)(O.a,{inverted:!0,style:{marginBottom:"0"}}),Object(w.jsxs)(g.a,{as:b.a,animation:"overlay",direction:"right",icon:"labeled",inverted:!0,onHide:function(){return B(!1)},vertical:!0,visible:E,width:"thin",children:[Object(w.jsxs)(b.a.Item,{as:"a",children:[Object(w.jsx)(p.a,{name:"home"}),"Home"]}),Object(w.jsxs)(b.a.Item,{as:"a",children:[Object(w.jsx)(p.a,{name:"gamepad"}),"Games"]}),Object(w.jsxs)(b.a.Item,{as:"a",children:[Object(w.jsx)(p.a,{name:"camera"}),"Channels"]}),Object(w.jsxs)(b.a.Item,{as:"a",children:[Object(w.jsx)(p.a,{name:"camera"}),"Channels"]}),Object(w.jsxs)(b.a.Item,{as:"a",children:[Object(w.jsx)(p.a,{name:"camera"}),"Channels"]}),Object(w.jsxs)(b.a.Item,{as:"a",children:[Object(w.jsx)(p.a,{name:"camera"}),"Channels"]}),Object(w.jsxs)(b.a.Item,{as:"a",children:[Object(w.jsx)(p.a,{name:"camera"}),"Channels"]})]}),Object(w.jsx)(v.a,{basic:!0,dimmer:"blurring",onClose:function(){return L(!1)},onOpen:function(){return L(!0)},open:D,size:"small",children:Object(w.jsx)(v.a.Content,{children:Object(w.jsxs)(y.a,{centered:!0,style:{boxShadow:"none",background:"#0000"},children:[Object(w.jsx)(y.a.Content,{style:{background:"var(--main-gradient)"},children:Object(w.jsx)(y.a.Header,{style:{color:"#fff"},children:"Connect Wallet"})}),Object(w.jsx)(y.a.Content,{style:{background:"#383241"},children:Object(w.jsxs)(U,{children:[Object(w.jsxs)(d.a.Row,{columns:2,style:{paddingBottom:"0"},children:[Object(w.jsx)(d.a.Column,{style:{textAlign:"center"},children:Object(w.jsx)(h.a,{icon:!0,style:{width:"85px",height:"85px",background:"#0000"},onClick:function(){o||i({signingMessage:"Log in using Moralis"}).then((function(e){if(e){var t=e.get("ethAddress");T(t&&t.id?t.id:""),L(!1)}})).catch((function(e){console.log(e)}))},children:Object(w.jsxs)("div",{style:{display:"block"},children:[Object(w.jsx)("img",{style:{display:"block",margin:"auto",marginBottom:"8px"},src:"/images/wallert_metamask.webp",alt:""}),"Metamask"]})})}),Object(w.jsx)(d.a.Column,{style:{textAlign:"center"},children:Object(w.jsx)(h.a,{icon:!0,style:{width:"85px",height:"85px",background:"#0000"},children:Object(w.jsxs)("div",{style:{display:"block"},children:[Object(w.jsx)("img",{style:{display:"block",margin:"auto",marginBottom:"8px"},src:"/images/binance_wallet.webp",alt:""}),"Binance"]})})})]}),Object(w.jsx)(d.a.Row,{columns:2,children:Object(w.jsx)(d.a.Column,{style:{textAlign:"center"},children:Object(w.jsx)(h.a,{icon:!0,style:{width:"85px",height:"85px",background:"#0000"},children:Object(w.jsxs)("div",{style:{display:"block"},children:[Object(w.jsx)("img",{style:{display:"block",margin:"auto",marginBottom:"8px"},src:"/images/wallet_connect.webp",alt:""}),"Wallet"]})})})})]})})]})})})]})},I=function(e){return Object(w.jsxs)(r.Fragment,{children:[Object(w.jsx)(C,{}),Object(w.jsx)("div",{children:e.children})]})},N=n(14),F=n(0),S=n.n(F),T=n(489),M=n(179),A=n(497),E=n(206),B=n(230),P=n.n(B),z=n(307),D=n(498),L=n(499),R=n(325),U=function(){var e=Object(s.c)().saveFile,t=Object(L.a)(),n=Object(A.a)(),a=n.NFTContract,c=n.potatoMarketContract,i={name:T.a.company.companyName(),description:T.a.commerce.productDescription(),price:"2"},o=Object(r.useState)(),u=Object(l.a)(o,2),d=u[0],j=u[1],b=function(){var t=Object(N.a)(S.a.mark((function t(){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:d&&e(d.name,d,{type:"base64",saveIPFS:!0,onSuccess:function(){var e=Object(N.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.ipfs(),t&&f(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onError:function(e){return console.log(e)}});case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){var e=Object(N.a)(S.a.mark((function e(n){var r,s,o,u,l,d,b,f,h,m,x,p,O,g;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=i.name,s=i.description,!c||!a){e.next=35;break}return e.next=5,Object(E.a)(c,M.a.marketContractAddress);case 5:return o=e.sent,e.next=8,Object(E.a)(a,M.a.nftContractAddress);case 8:return u=e.sent,e.next=11,u.mintToken(n);case 11:return l=e.sent,e.next=14,l.wait();case 14:return d=e.sent,b=d.events[0],f=b.args[2],h=f.toNumber(),m=JSON.stringify({url:n,name:r,description:s}),(x=new P.a.Object("potatoNFTMarket")).set("itemId",h),x.set("data",m),e.next=24,x.save();case 24:return p=z.a.utils.parseUnits(i.price,"ether"),e.next=27,null===o||void 0===o?void 0:o.getListingPrice();case 27:return O=e.sent,e.next=30,null===o||void 0===o?void 0:o.makeMarketItem(M.a.nftContractAddress,h,p.toString(),{value:O.toString()});case 30:return g=e.sent,e.next=33,g.wait();case 33:Object(D.b)(c,a).then((function(e){t(Object(R.c)(e))})),j(void 0);case 35:e.next=40;break;case 37:e.prev=37,e.t0=e.catch(0),console.log("Error: ",e.t0);case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsxs)("div",{children:[Object(w.jsx)("input",{type:"file",onChange:function(e){j(e.target.files[0])}}),Object(w.jsx)(h.a,{variant:"outlined",sx:{my:2,color:"white",display:"block"},onClick:b,children:"listing"})]})},W=n(1498),H=Object(r.lazy)((function(){return Promise.all([n.e(1),n.e(4),n.e(6),n.e(14)]).then(n.bind(null,2222))})),J=Object(r.lazy)((function(){return Promise.all([n.e(1),n.e(4),n.e(6),n.e(13),n.e(15)]).then(n.bind(null,2223))})),_=Object(w.jsx)(W.a,{percent:100,size:"tiny",active:!0});var q=function(){return Object(w.jsx)(s.a,{serverUrl:"https://jqffj1drjnzm.usemoralis.com:2053/server",appId:"iABVUKAeoEkI52Lnjt1dZrIgHuvo62ZHKk9qNDds",children:Object(w.jsx)(o.a,{children:Object(w.jsx)(I,{children:Object(w.jsxs)(u.c,{children:[Object(w.jsx)(u.a,{index:!0,element:Object(w.jsx)(U,{})}),Object(w.jsx)(u.a,{path:"/expore",element:Object(w.jsx)(r.Suspense,{fallback:_,children:Object(w.jsx)(H,{})})}),Object(w.jsx)(u.a,{path:"/myitem",element:Object(w.jsx)(r.Suspense,{fallback:_,children:Object(w.jsx)(J,{})})}),Object(w.jsx)(u.a,{path:"/create",element:Object(w.jsx)(r.Suspense,{fallback:_,children:Object(w.jsx)(U,{})})})]})})})})},K=n(29),Q=Object(K.d)({name:"test",initialState:{toogle:!1},reducers:{updateToggle:function(e,t){e.toogle=t.payload}}}),Z=(Q.actions.updateToggle,Q.reducer),G=n(1493),V=Object(K.a)({reducer:{test:Z,expore:R.a}});Object(G.a)(V.dispatch);var X=V,Y=function(e){e&&e instanceof Function&&n.e(24).then(n.bind(null,2234)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))},$=n(316),ee=(n(1457),function(){return Object(w.jsx)(a.a.StrictMode,{children:Object(w.jsx)($.a,{store:X,children:Object(w.jsx)(q,{})})})});i.a.createRoot(document.getElementById("root")).render(Object(w.jsx)(ee,{})),Y()},179:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={marketContractAddress:"0x9a697b618CE0B315Bb0D72B3Cf8604ECE0A32F65",nftContractAddress:"0x7040f31b1C027FF01F038Ee466caADc7DcB5200D"}},206:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r,a=n(14),c=n(0),i=n.n(c),s=n(307);!function(e){e.dev="1337",e.production="80001"}(r||(r={}));var o=function(){var e=Object(a.a)(i.a.mark((function e(t,n){var a,c,o,u,l,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"===typeof window.ethereum){e.next=10;break}return a=window,c=a.ethereum,o=new s.a.providers.Web3Provider(c),e.next=5,o.getNetwork();case 5:if(u=e.sent,Number.parseInt(r.production)!==u.chainId){e.next=10;break}return l=o.getSigner(),d=new s.a.Contract(n,t.abi,l),e.abrupt("return",d);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},325:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u}));var r=n(29),a={nfts:[],mynfts:[]},c=Object(r.d)({name:"test",initialState:a,reducers:{setNFTs:function(e,t){e.nfts=t.payload},clearNFTs:function(e){e.nfts=a.nfts},setMyNFTs:function(e,t){e.mynfts=t.payload},clearMyNFTs:function(e){e.nfts=a.mynfts}}}),i=c.actions,s=i.setNFTs,o=(i.clearNFTs,i.setMyNFTs),u=(i.clearMyNFTs,c.reducer)},497:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(36),a=n(1),c=n(488),i=n.n(c),s=function(){var e=Object(a.useState)(),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(),o=Object(r.a)(s,2),u=o[0],l=o[1];return Object(a.useEffect)((function(){i()("definition/PotatoMarket.json").then((function(e){c(e.data),console.log({json:e.data})})),i()("definition/NFT.json").then((function(e){l(e.data)}))}),[]),{potatoMarketContract:n,NFTContract:u}}},498:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var r=n(14),a=n(0),c=n.n(a),i=n(230),s=n.n(i),o=n(206),u=n(179),l=function(){var e=Object(r.a)(c.a.mark((function e(t,n){var a,i,l,d,j;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.a)(t,u.a.marketContractAddress);case 2:return i=e.sent,e.next=5,Object(o.a)(n,u.a.nftContractAddress);case 5:return l=e.sent,e.next=8,null===i||void 0===i?void 0:i.fetchMarketItems();case 8:if(e.t1=a=e.sent,e.t0=null!==e.t1,!e.t0){e.next=12;break}e.t0=void 0!==a;case 12:if(!e.t0){e.next=16;break}e.t2=a,e.next=17;break;case 16:e.t2=[];case 17:return d=e.t2,e.next=20,Promise.all(d.map(function(){var e=Object(r.a)(c.a.mark((function e(t){var n,r,a,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===l||void 0===l?void 0:l.tokenURI(t.tokenId);case 2:return n=e.sent,(r=new s.a.Query("potatoNFTMarket")).equalTo("itemId",t.itemId.toNumber()),e.next=7,r.find();case 7:return a=e.sent,i=JSON.parse(a[0].get("data")),o={price:t.price.toString(),itemId:t.itemId.toNumber(),seller:t.seller,owner:t.owner,image:n,name:i.name,description:i.description},e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 20:return j=e.sent,console.log("loadNFTs==>".concat(j)),e.abrupt("return",j);case 23:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function d(e,t){return j.apply(this,arguments)}function j(){return j=Object(r.a)(c.a.mark((function e(t,n){var a,i,l,d,j;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.a)(t,u.a.marketContractAddress);case 2:return i=e.sent,e.next=5,Object(o.a)(n,u.a.nftContractAddress);case 5:return l=e.sent,e.next=8,null===i||void 0===i?void 0:i.fetchMyNfts();case 8:if(e.t1=a=e.sent,e.t0=null!==e.t1,!e.t0){e.next=12;break}e.t0=void 0!==a;case 12:if(!e.t0){e.next=16;break}e.t2=a,e.next=17;break;case 16:e.t2=[];case 17:return d=e.t2,e.next=20,Promise.all(d.map(function(){var e=Object(r.a)(c.a.mark((function e(t){var n,r,a,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===l||void 0===l?void 0:l.tokenURI(t.tokenId);case 2:return n=e.sent,(r=new s.a.Query("potatoNFTMarket")).equalTo("itemId",t.itemId.toNumber()),e.next=7,r.find();case 7:return a=e.sent,i=JSON.parse(a[0].get("data")),o={price:t.price.toString(),itemId:t.itemId.toNumber(),seller:t.seller,owner:t.owner,image:n,name:i.name,description:i.description},e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 20:return j=e.sent,console.log("loadMyNFTs==>".concat(j)),e.abrupt("return",j);case 23:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}},499:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var r=n(316),a=function(){return Object(r.b)()},c=r.c},667:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=667},728:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(36),a=n(1),c=function(e){var t=e.maxWidth,n=Object(a.useState)(!1),c=Object(r.a)(n,2),i=c[0],s=c[1];return Object(a.useEffect)((function(){window.addEventListener("resize",(function(e){e.isTrusted&&(t>window.innerWidth?s(!0):s(!1))}))}),[window,t,i]),i}},798:function(e,t,n){}},[[1458,9,10]]]);
//# sourceMappingURL=main.bddfd158.chunk.js.map